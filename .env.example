# Prism Configuration

# Server Configuration
PORT=8080
HOST=0.0.0.0
ENVIRONMENT=development

# Database
# SQLite (default)
DATABASE_URL=./data/prism.db
# PostgreSQL (optional)
# DATABASE_URL=postgres://user:password@localhost:5432/prism

# Security
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=
JWT_SECRET=change-me-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=168h

# GitHub OAuth
# Create at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URL=http://localhost:8080/api/v1/github/callback

# LLM Providers (users provide their own keys via the UI)
# Ollama is for local LLM support
OLLAMA_HOST=http://localhost:11434

# Docker Sandbox
SANDBOX_MEMORY_LIMIT=512m
SANDBOX_CPU_LIMIT=0.5
SANDBOX_TIMEOUT=60s
# Preview URL for sandbox (defaults to FRONTEND_URL if not set)
SANDBOX_PREVIEW_URL=

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# CORS (comma-separated origins)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# File Uploads
UPLOAD_MAX_SIZE=10485760
UPLOAD_DIR=./data/uploads

# GitHub Webhooks
# Enable GitHub webhook integration
GITHUB_WEBHOOK_ENABLED=false
# Secret for verifying GitHub webhook signatures (set in GitHub webhook settings)
GITHUB_WEBHOOK_SECRET=

# Code Runner (for automatic code execution on webhook events)
CODE_RUNNER_ENABLED=true
# Use Docker for sandboxed execution (recommended for production)
CODE_RUNNER_DOCKER_MODE=false
CODE_RUNNER_MEMORY_LIMIT=512m
CODE_RUNNER_CPU_LIMIT=0.5
CODE_RUNNER_TIMEOUT=5m

# Discord Integration (optional)
DISCORD_ENABLED=false
DISCORD_WEBHOOK_URL=
DISCORD_BOT_TOKEN=

# Slack Integration (optional)
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=
SLACK_CHANNEL_ID=

# PostHog Analytics (optional)
POSTHOG_ENABLED=false
POSTHOG_API_KEY=
POSTHOG_ENDPOINT=https://app.posthog.com
POSTHOG_BATCH_SIZE=10
POSTHOG_FLUSH_INTERVAL=30s
